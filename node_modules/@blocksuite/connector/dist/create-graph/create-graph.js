import { Graph } from '../graph.js';
import { createNodes } from './create-nodes.js';
import { createRulers } from './create-rulers.js';
import { manualGenerateGraph, shouldManualGenerateGraph, } from './manual-generate-graph.js';
export function createGraph(rectangles, points, margin = [10, 10]) {
    if (shouldManualGenerateGraph(rectangles, points)) {
        return manualGenerateGraph(rectangles, points);
    }
    const inflatedRects = rectangles.map(r => r.inflate(margin[0], margin[1]));
    const rulers = createRulers(inflatedRects, points, margin);
    const nodes = createNodes(rulers, inflatedRects, points);
    const graph = new Graph(nodes);
    return {
        rectangles,
        points,
        inflatedRectangles: inflatedRects,
        rulers,
        nodes,
        graph,
    };
}
//# sourceMappingURL=create-graph.js.map