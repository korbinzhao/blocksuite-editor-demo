import { BaseBlockModel, defineBlockSchema } from '@blocksuite/store';
import { literal } from 'lit/static-html.js';
export class PageBlockModel extends BaseBlockModel {
    onCreated() {
        super.onCreated();
        this.page.slots.blockUpdated.on(({ type }) => {
            if (type === 'add') {
                this.page.workspace.setPageMeta(this.page.id, {
                    title: this.title.toString(),
                });
            }
        });
    }
}
export const PageBlockSchema = defineBlockSchema({
    flavour: 'affine:page',
    props: (internal) => ({
        title: internal.Text(),
    }),
    metadata: {
        version: 2,
        role: 'root',
        tag: literal `affine-page`,
    },
    toModel: () => new PageBlockModel(),
});
//# sourceMappingURL=page-model.js.map