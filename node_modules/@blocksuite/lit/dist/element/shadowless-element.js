import { CSSResult, LitElement } from 'lit';
class ShadowlessElement extends LitElement {
    static finalizeStyles(styles) {
        let elementStyles = super.finalizeStyles(styles);
        const styleRoot = document.head;
        if (this.disableShadowRoot) {
            // XXX: This breaks component encapsulation and applies styles to the document.
            // These styles should be manually scoped.
            elementStyles.forEach((s) => {
                if (s instanceof CSSResult) {
                    const style = document.createElement('style');
                    style.textContent = s.cssText;
                    styleRoot.appendChild(style);
                }
                else {
                    console.error('unreachable');
                }
            });
            elementStyles = [];
        }
        return elementStyles;
    }
    createRenderRoot() {
        return this.constructor.disableShadowRoot
            ? this
            : super.createRenderRoot();
    }
}
ShadowlessElement.disableShadowRoot = true;
export { ShadowlessElement };
//# sourceMappingURL=shadowless-element.js.map